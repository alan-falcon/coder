var oldScreenXY=-1,multiscreen={enabled:!0,arrowActions:{init:function(){banner.flags.arrowsVisible=o.arrowsEnabled&&banner.screensCount>1;if(!banner.flags.arrowsVisible){if(e.arrows)e.arrows.css('display','none');return}
e.arrows.css('opacity','0').css('right','-40px')
e.arrowUp.on('click',function(ev){if(banner.flags.dontShowArrows)return;multiscreen.arrowActions.changeScreen(-1);ev.preventDefault()});e.arrowDown.on('click',function(ev){if(banner.flags.dontShowArrows)return;multiscreen.arrowActions.changeScreen(1);ev.preventDefault()})},disableInactive:function(){var noUp=currentScreen===0;var noDown=currentScreen===banner.screensCount-1;e.arrowUpBlock.anim({opacity:1-0.666*noUp},{queue:!1}).css('pointer-events',noUp?'none':'auto');e.arrowDownBlock.anim({opacity:1-0.666*noDown},{queue:!1}).css('pointer-events',noDown?'none':'auto')},changeScreen:function(dir,nr){nr=nr||currentScreen+dir<0?0:currentScreen+dir>=banner.screensCount?banner.screensCount-1:currentScreen+dir;nextOffer=nr===0?0:Number(banner.screenOffers[nr-1]);multiscreen.checkScreen(nextOffer);banner.flags.dontChangeOffer=!0},visibility:function(){return(!banner.flags.arrowsVisible||banner.flags.dontShowArrows)||multiscreen.arrowActions.show(banner.flags.mouseOnBanner)},show:function(ok){e.arrows.anim({opacity:Number(ok),right:(-Number(!ok)*40)+'px',delay:50},{duration:300,queue:!1})}},checkScreen:function(nr){var i=0;while(banner.screenOffers[i]<=nr)i++;currentScreen=i;if(banner.flags.arrowsVisible)multiscreen.arrowActions.disableInactive();var currentScreenXY=-Number(o.sliderHorizontal?o.sliderScreenWidth:o.containerHeight)*i;if(oldScreenXY!==currentScreenXY){if(supportTransition){if(o.sliderHorizontal){e.allOffers.css('transition-property','left').css('transition-duration','0.5s').css({transformOrigin:(-currentScreenXY+o.sliderScreenWidth/2)+'px 50%',left:currentScreenXY})}else{e.allOffers.css('transition-property','top').css('transition-duration','0.5s').css({transformOrigin:'50%'+(-currentScreenXY+o.containerHeight/2)+'px',top:currentScreenXY})}}else{if(o.sliderHorizontal){e.allOffers.anim({left:currentScreenXY},{duration:300})}else{e.allOffers.anim({top:currentScreenXY},{duration:300})}}
oldScreenXY=currentScreenXY}}}